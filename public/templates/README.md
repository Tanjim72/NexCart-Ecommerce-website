# HTML Templates Directory

This directory contains reusable HTML template sections organized by page functionality.

## Template Files

### `products.php`
Displays the product listing grid with shopping cart display.

**Location:** `public/templates/products.php`  
**Used By:** `public/index.php` (Products tab)  
**Dependencies:** None (self-contained)

**Required Variables:**
- `$products` (array) - Array of product objects
- `$cart` (array) - Array of cart items
- `$cart_totals` (array) - Associative array with 'subtotal', 'total', 'item_count_text'

**Key Elements:**
- `.products-grid` - Responsive product grid
- `.product-card` - Individual product card with add-to-cart button
- `#cartItems` - Cart items container
- `#cartSummary` - Cart totals display

### `checkout.php`
Displays the checkout form with customer information and shipping options.

**Location:** `public/templates/checkout.php`  
**Used By:** `public/index.php` (Checkout tab)  
**Dependencies:** None (self-contained)

**Required Variables:**
- None (CSRF token generated automatically via getCsrfToken())

**Key Elements:**
- `#checkoutForm` - Main form with ID for JS targeting
- Form fieldsets for: Personal Info, Delivery Address, Shipping Options
- Form validation using JavaScript

**Form Fields:**
- firstName, lastName
- email, phone
- address, city, state, postalCode, country
- shippingMethod (select with 3 options)
- orderNotes (optional textarea)

### `payment.php`
Container for payment method selection. Content is dynamically generated by JavaScript.

**Location:** `public/templates/payment.php`  
**Used By:** `public/index.php` (Payment tab)  
**Dependencies:** `js/pages/payment-page.js` (renders content)

**Key Elements:**
- `#paymentContent` - Container where payment options are rendered dynamically

### `tracking.php`
Placeholder for order tracking content. Currently not actively used.

**Location:** `public/templates/tracking.php`  
**Used By:** `public/index.php` (Tracking tab)  
**Status:** Inactive (placeholder only)

### `invoice.php`
Placeholder for invoice content. Currently not actively used.

**Location:** `public/templates/invoice.php`  
**Used By:** `public/index.php` (Invoice tab)  
**Status:** Inactive (placeholder only)

## Usage

### In PHP Controllers

```php
<?php
// In public/index.php

// Get data needed by templates
$products = getProducts();
$cart = getCart();
$cart_totals = calculateCartTotals();

// Include header with CSS/JS configuration
include 'includes/header.php';
include 'includes/nav.php';

// Include individual templates
include 'templates/products.php';
include 'templates/checkout.php';
include 'templates/payment.php';
include 'templates/tracking.php';
include 'templates/invoice.php';

// Include footer
include 'includes/footer.php';
?>
```

## Design Principles

### Separation of Concerns
- Each template handles one logical section
- Templates are self-contained and reusable
- No business logic in templates (only display logic)

### Variable Isolation
- Templates declare what variables they need
- All required variables documented in comments
- Safe to pass only needed variables

### Styling
- All CSS is page-specific in `css/pages/`
- Templates use consistent class names
- Responsive design built into CSS

### JavaScript Integration
- Templates include `data-*` attributes for JS selection
- onclick handlers reference global JS functions
- Dynamic content rendered by page-specific JS modules

## Best Practices

1. **Always Use Escaping**
   ```php
   <?php echo escape($variable); ?>
   ```

2. **Include Documentation**
   ```php
   <!-- 
     Template name and purpose
     Required variables
     Key elements
   -->
   ```

3. **Use Semantic HTML**
   ```html
   <section id="name" class="content" role="tabpanel">
     <article>, <form>, <fieldset>, etc.
   </section>
   ```

4. **Keep Templates Focused**
   - One logical section per template
   - Don't mix multiple features in one file
   - Extract reusable parts to components

5. **Make Templates Reusable**
   - Avoid hardcoded values
   - Use variables for dynamic content
   - Document all required variables

## Adding New Templates

### Step 1: Create the Template
```php
<!-- public/templates/new-section.php -->
<!-- Description of section -->

<section id="newSection" class="content">
    <!-- Your HTML here -->
</section>
```

### Step 2: Document It
Add comments explaining:
- Purpose and location
- Where it's used
- Required variables
- Key elements

### Step 3: Add CSS if Needed
Create `css/pages/new-page.css` if this is for a new page type.

### Step 4: Include in Controller
```php
include 'templates/new-section.php';
```

## File Organization

```
public/
├── index.php (Main products page)
│   └── Includes all 5 templates
├── order_confirmation.php (Order page)
└── templates/
    ├── products.php (Product grid + shopping cart)
    ├── checkout.php (Customer form)
    ├── payment.php (Payment selection)
    ├── tracking.php (Placeholder)
    ├── invoice.php (Placeholder)
    └── README.md (This file)
```

## Related Files

- **Controllers:** `public/index.php`, `public/order_confirmation.php`
- **Components:** `public/components/` (reusable component snippets)
- **CSS:** `public/assets/css/pages/` (page-specific styles)
- **JavaScript:** `public/assets/js/pages/` (page-specific functionality)

---

**Status:** Production Ready  
**Version:** 1.0  
**Last Updated:** December 2025
